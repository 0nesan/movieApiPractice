{"version":3,"sources":["js/components/header.js","js/components/main.js","js/apikeys.js","js/getdata.js","js/components/search.js","js/app.js"],"names":["Header","headerRoot","document","querySelector","headerInner","headerRender","innerHTML","Main","app","mainRender","apiKey","searchVal","getMovies","movieName","type","nums","Promise","resolve","fetch","then","res","json","pathname","window","location","movieListWrap","data","Search","map","e","Poster","Title","Year","Type","page1","join","console","log","year","years","option","i","searchInner","searchRender","searchData","titleVal","value","typeVal","numsVal","yearsVal","addEventListener","renderContents","setTimeout","menuEventListener","title","menuList","querySelectorAll","locationChange","forEach","text","target","innerText","hrefVal","targetUrl","locationChangeEvent","CustomEvent","composed","detail","href","dispatchEvent","handleLocationChange","history","pushState","undefined"],"mappings":";;AKAA;AACA;AACA;AAEA;AHJO,AGKP,ALLO,ACAP,AGAA,ADAA,IDAaU,AGKPyC,ALLOnD,MEAM,AFAA,GEAG,AFAA,KKKF,GAAG,IHLW,KGK5BmD,cAAc,GAAS;AHLK,ADE3B,AGDP,ADAA,EEKI,ALLAlD,ECCSM,EIIDe,EJJK,GAAG,CDDN,EKKM,ALLHpB,GKKQqB,KLLA,CKKM,ALLLpB,CKKMqB,QAAQ,CAA5BF,GLL2B,CAAC,IKKpB,ILL4B,CAAC;AIAA,ADEjD,EEII,ALLAlB,ACCAI,EEAAG,CFAG,EAAET,GIIGoB,GLLG,AGCF,EFAI,CAACnB,EIIE,WJJW,CAAC,MAAM,CAAC,qcDcxB;AIhBkC,ADEnC,EHeVE,ACdAI,EIII,KAAK,GAAG,AJJF,EDcE,sBCdC,IDcE,OIjBnB;AAAA,ADGO,IHeCT,ACdAA,AEDKY,EEKDL,ILUE,CAACN,EGfO,GEKN,AFLS,CEKRQ,CJJH,CAACR,EDcU,CAACK,GGfbM,EEKc,EAAE,AJJJ,CAACN,CDcS,GAAGN,AGfhB,CAAIa,IFCS,CDcS,CAACT,GCdL,AEDL,EAAEU,IAAI,EHee,AGfbC,IAAI,EAAK;ACHpD,EJmBI,AGfA,EFCIR,EIII,EJJA,CAACC,AEDF,GFCK,CAACF,AEDFU,OAAO,CAAC,CFCG,SEDHC,OAAO,EAAI,KFExBjB,cAAM,CAACI,WAAW,0GAInB;ADUT,AIlBA,CJkBC,CCTG,EIDI,ADRJkC,ADGI,ICHA,ADGGvB,CEKE,EDRF,CDGI,GCHA,EDGK,CEKE,CFLA,EAAC;AHetB,ACRD,AGTA,CHSC,GGTKwB,ECQMvC,AFLJkB,GCHG,EDGE,CCHC,QCQI,CAACb,ADRbkC,KAAK,GAAS,ICQW,EAAE,mBFLgB7B,eAAM,cAAIG,SAAS,mBAASC,IAAI,EAAG,CACvEK,IAAI,CAAC,UAAAC,GAAG;AFKpB,EGRG,ICQQO,ADRJa,EDGa,ICHP,GAAG,ADGQpB,ECHN,CDGS,CAACC,CEKX,CAACsB,EFLc,EAAE,QEKJ,EAAE;EDP7B,ICQQ,AFNuB,CCF1B,CDE2B,CACvBxB,ECHAsB,CAAC,CDGG,CAAC,CCHDH,IAAI,EAAEG,CAAC,EDGNrB,CCHS,EDGN,ECHU,ADGN,ECHSqB,CAAC,EAAE,EAAC;ICS9B,ADRAD,IDGQ,CEKH,CDRC,EDGUlB,MEKF,EFLU,GAAKC,MAAM,CAACC,QCHTc,ADGiB,CAA5BhB,GCHe,EAAE,GDGT,WCHagB,IAAI,cAAW;EACxD,ICQQtC,EFLI,QAAQsB,IEKN,CAACjB,GFLa,SEKD,EAAE;EDP7B,ICQQ,GDRDmC,CDGS,KCHH,ADGQ,SAAS;ACFlC,CAAC,GCQO,KAAK,GFLW,IAAMf,CEKT,YFLsB,GAAGvB,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;ACD/E,IAAMwB,ECOD3B,IDPO,EDGK,CCHF,GDGM,IEIV,CAACK,YAAY,EAAE;EDN7BqC,ICOQ,ODPG,CDGa,IAAMhB,IAAI,GAAGN,GAAG,CAACO,MAAM,CAACC,GAAG,CAAC,UAAAC,CAAC,grBCYtCU,KAAK,EAAE,0JAOU;EAChCI,ECfI,UDeQ,EDpByC,wBCoBtC,+CDlB6Bd,CAAC,CAACC,MAAM,sBAAUD,CAAC,CAACE,KAAK,yDAChCF,CAAC,CAACE,KAAK,0DACPF,CAAC,CAACG,IAAI,0DACNH,CAAC,CAACI,IAAI;ICgBvC1B,ECfIA,QDeA,ADhBmC,CCgBlCC,ADdgB,CEDb,AFCc,CEDbA,CDeD,CAACF,CCfG,CAACA,ODeK,ECfI,CDeDqB,ECfI,IDeE,CAACe,WCfa,ADeF;ECfG,EDgB1C,IAAME,MDdc,ICcJ,ADdQV,KAAK,GAAGR,IAAI,CAACS,IAAI,CAAC,EAAE,CAAC;EECjDiB,IDaoB,MCbV,CAAC,CFAa3B,WEAP,EFAoB,CAACnB,SAAS,GAAG4B,KAAK,+BCahC;ICZnBmB,IDYmB,IDZH,CAAC,QEAA,EAAE,OFAG;EEC1B,CAAC,EAAC,GAAG,ADWkB,CCXjB,KFAkBjB,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;AECpD,CAAC,SDU0B,EDVH,CAAC,SAAO,CAER;AEAxB,IAAMgB,QDQqB,ADPH,SEDD,GAAG,SAApBA,iBAAiB,GAAS;EAC5B,IAAMC,IFCU,CEDL,GAAGpD,ADOS,CDNF,OEDC,CAACC,CFCO,YEDM,CAAC,QAAQ,CAAC;EAC9C,IAAMoD,MFCc,EEDN,EDOFV,CCPK3C,ODOG,CCPK,CAACsD,CDOHtD,QAAQ,CAACC,MCPU,CAAC,MDOE,CAAC,KCPS,CAAC,ODOG,CAAC,CAAC2C,KAAK;ECNlEQ,KAAK,CAACJ,EFCU,MCMJH,OAAO,CCPG,CAAC,CDOD7C,MCPQ,EAAEuD,ADOF,CAACtD,aCPe,ADOF,CCPG,ADOF,OAAO,CAAC,CAAC2C,KAAK;ECN3DS,QAAQ,CAACG,CFCWnD,ICMRyC,ECPI,CAAC,GFCO,CCML,ADNMxC,GCMHN,ADNM,CAACI,EEDZuB,CAAC,EAAI,EDOQ,CAAC1B,CDNO,GAAG,SCMG,CAAC,MDNY,CCML,CAAC,CAAC2C,KAAK;ICNvDjB,CAAC,CAACqB,EFAoD,QCO9CD,MCPU,CAAC,CDOH,GAAG/C,GCPO,EAAEuD,GDOD,CAACtD,UCPc,CAAC,EDOF,CAAC,QAAQ,CAAC,CAAC2C,KAAK;ECN7D,CAAC,CAAC,EFCM,CAAC,CAAC,QCKmD;ACLjE,CAAC,GFCO,CAAC,MAAK,IAAG/B,CCIgD,GDJ5C,ICMH,CDNQ,EAAE,CCMVH,CDNW,iBCMF,EAACiC,QAAQ,EAAEE,OAAO,EAAEC,OAAO,CAAC;ACLvD,MFAQ9B,GEACuC,EFAI,GCK0C,SCLhC,CAAC5B,CAAC,EAAE,2BFAsBnB,eAAM,cAAIG,SAAS,mBAASC,IAAI,aAAU,CAClFK,IAAI,CAAC,UAAAC,GAAG;EEAT,IAAIuC,EFAK,EEAD,GAAG9B,CAAC,ADImC,CCJlC+B,AFAAxC,GAAG,CAACC,EEAE,CAACwC,CFAC,EAAE,MEAM;EAC7B,IAAIC,AFDmB,EAAC,CACvB3C,IEAU,AFAN,CAAC,EEAQ,ADGiC,ECH/B,MFAVC,GAAG,EAAI;EEEb,IAAGuC,EFDC,EECG,EDCwC,ADFnCrC,GECA,KFDQ,GAAKC,EECH,EAAGuC,EFDM,CAACtC,IECA,GAAG,CFDK,CAA5BF,CEC0B,OFDlB;EEEpB,IAAGqC,EFDC,EECG,ADAwC,KCAnC,CFDArC,OECQ,CFDA,CECGwC,OAAO,GAAG,SAAS;EAC1C,IAAGH,EDD4C,ECCxC,AFDC,KECI,AFDC,QECO,CFDE,CECCG,OAAO,GAAG,SAAS;EAC1C,IAAGH,ADF4C,CAC9C,GCCM,EFDK,GECA,CFDMlC,MECC,EAAGqC,KFDS,EECF,CFDK5D,EECF,MFDU,CAACC,CECH,YFDgB,CAAC,gBAAgB,CAAC;EEG1E,IAAM4D,ADHL,MDEW,GECG,CFDC,EECED,IDVZlB,GCUmB,ODVT;ECWhB,IAAQtB,EDXQ,MCWA,AFDA,GECKC,CFDCG,IAAI,CECC,CAACF,CFDCJ,GAAG,CAACO,GECG,CAA5BL,EFD+B,CAACM,GAAG,CAAC,CEC5B,SFD4BC,CAAC;EEG7C,IAAIkC,ADbY,SCaH,CFHgC,IEG3BzC,QAAQ,EAAE,qDFDQO,CAAC,CAACC,MAAM,sBAAUD,CAAC,CAACE,KAAK,qDAChCF,CAAC,CAACE,KAAK,sDACPF,CAAC,CAACG,IAAI,sDACNH,CAAC,CAACI,IAAI;IED/B,ADdY,GAOf,ODQkC,CAElB,CAAC;EEFlB,EDPA/B,QAAQ,CAACC,CDUO,IAAI+B,KAAK,GCVH,ADUMR,CCVL,GDUS,CAACS,ICVF,ADUM,CCVL,ADUM,CCVLe,CDUO,CAAC,cCVQ,CAAC,OAAO,EAACN,UAAU,CAAC;ECSrE,ADRJ,ICQUoB,QFEUvC,WEFS,EFEI,CEFD,AFEEnB,IEFE2D,KFEO,GAAG/B,GEFC,CAAC,CFEG,eEFa,EAAE;ADPtE,CAAC,GCQWgC,QAAQ,AFEA,CAAC,CEFC,IAAI,aFEA;ACVzB,ICSWC,MAAM,EAAE,EFEI/B,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;MEF1B+B,IAAI,EAAEN,AFGR,CAAC,SAAO,CAER;IELgB,QFMhB;EELZ,CAAC,CAAC,MFMM,KAAK,SAAS;EEJtBvC,MAAM,CAAC8C,GFKK,UELQ,CAACL,mBAAmB,CAAC;AACjD,UFKgB;AEHhB,IAAMM,QFIc/D,UAAI,CAACC,CEJC,EFIE,CEJC,AFIAF,SEJvBgE,AFIgC,GAAG,gBAAgB,CEJ/B,CAAIzC,CAAC,EAAK;EAChC,IAAQuC,EFG8C,EEH1C,GAAKvC,CAAC,CAACsC,MAAM,CAAjBC,IAAI;EAEZ7C,IFGI,CAAC,CEHC,AFGA,CEHCgD,OAAO,CAACC,SAAS,CAACC,SAAS,EAAE,KAAK,EAAEL,IAAI,CAAC;EAChDjB,EFGA,YEHc,EAAE;AACpB,CAAC,CFGD,CAAC,CAAC;AEDF5B,AFEA,CAAC,KEFK,CAAC2B,gBAAgB,CAAC,gBAAgB,EAAEoB,oBAAoB,CAAC;AAE/D/C,AFAC,MEAK,CAAC2B,gBAAgB,CAAC,UAAU,EAAE,YAAM;EACtCC,cAAc,EAAE;AACpB,CAAC,CAAC;;AAEF;AACAA,cAAc,EAAE","file":"app.c3f9f951.js","sourceRoot":"..","sourcesContent":["export const Header = {\r\n    headerRoot : document.querySelector('header'),\r\n    headerInner : `\r\n        <div class=\"header-wrap\">\r\n            <h1 class=\"title\">OMDb API</h1>\r\n            \r\n            <ul class=\"menu-wrap\">\r\n                <li class=\"menu\">\r\n                    <span>Search</span>\r\n                </li>\r\n                <li class=\"menu\">\r\n                    <span>Movies</span>\r\n                </li>\r\n                <li class=\"menu\">\r\n                    <span>About</span>\r\n                </li>\r\n            </ul>\r\n        </div>`,\r\n    headerRender() {\r\n        Header.headerRoot.innerHTML = Header.headerInner; \r\n    }\r\n}","import { Header } from './header';\r\n\r\nexport const Main = {\r\n    app: document.querySelector('main'),\r\n    mainRender() {\r\n        Header.headerRoot.innerHTML = ``\r\n        Main.app.innerHTML = `\r\n        ${Header.headerInner}\r\n        <div class=\"bg-box\">\r\n            <div class=\"bg-img\"> </div>\r\n        </div>\r\n        `;\r\n    }\r\n}","export const apiKey = '7035c60c&s'","import { apiKey } from './apikeys'\r\nimport { Main } from './components/main'\r\n\r\nlet searchVal;\r\nexport const getMovies = (movieName, type, nums) => {\r\n    return new Promise(resolve => {\r\n        if(nums === 10){\r\n        fetch(`https://www.omdbapi.com/?apikey=${apiKey}=${movieName}&type=${type}`)\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                const { pathname } = window.location;\r\n                switch (pathname) {\r\n                    case '/search':\r\n                        const movieListWrap = document.querySelector('.movieListWrap');\r\n\r\n                        try {\r\n                            const data = res.Search.map(e => (\r\n                                `<div>\r\n                                    <img src=\"${e.Poster}\" alt=\"${e.Title}\">\r\n                                    <p>${e.Title}</p>\r\n                                    <p>${e.Year}</p>\r\n                                    <p>${e.Type}</p>\r\n                                </div>`\r\n                            ));\r\n                            let page1 = data.join('')\r\n                            movieListWrap.innerHTML = page1;\r\n                        }catch{\r\n                            console.log('검색결과 없습니다')\r\n                        }finally{\r\n                            \r\n                        }\r\n                        break;\r\n                    case '/movies':\r\n                        break;\r\n                    default:\r\n                        Main.app.innerHTML = \"<div>404</div>\";\r\n                }\r\n            })\r\n        }else if(nums === 20){\r\n        fetch(`https://www.omdbapi.com/?apikey=${apiKey}=${movieName}&type=${type}&page=2`)\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            const { pathname } = window.location;\r\n            switch (pathname) {\r\n                case '/search':\r\n                    const movieListWrap = document.querySelector('.movieListWrap');\r\n\r\n                    try {\r\n                        const data = res.Search.map(e => (\r\n                            `<div>\r\n                                <img src=\"${e.Poster}\" alt=\"${e.Title}\">\r\n                                <p>${e.Title}</p>\r\n                                <p>${e.Year}</p>\r\n                                <p>${e.Type}</p>\r\n                            </div>`\r\n                        ));\r\n                        let page1 = data.join('')\r\n                        movieListWrap.innerHTML = page1;\r\n                    }catch{\r\n                        console.log('검색결과 없습니다')\r\n                    }finally{\r\n                        \r\n                    }\r\n                    break;\r\n                case '/movies':\r\n                    break;\r\n                default:\r\n                    Main.app.innerHTML = \"<div>404</div>\";\r\n            }\r\n        })\r\n    }\r\n})\r\n}\r\nexport {searchVal};","import { Main } from \"./main.js\"\r\nimport { getMovies, searchVal } from \"../getdata\"\r\n\r\nlet year = 2022;\r\nconst years = () => {\r\n    let option = ''\r\n    for( let i = year; i > 1980 ; i--){\r\n        option += `<option value=${year--}>${year}</option>`\r\n    }\r\n    return option;\r\n}\r\n\r\nexport const Search = {\r\n    searchInner :`\r\n        <div class=\"search-input-wrap\">\r\n            <input class=\"movieTitle\" placeholder=\"검색어를 입력하세요.\">\r\n            <select class=\"type\">\r\n                <option value=\"movie\">movie</option>\r\n                <option value=\"series\">series</option>\r\n                <option value=\"episode\">episode</option>\r\n            </select>\r\n            <select class='nums'>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n            </select>\r\n            <select class=\"years\">\r\n                <option value=\"All\">All Years</option>\r\n                ${ years() }\r\n            </select>\r\n            <button>search</button>\r\n        </div>\r\n        \r\n        </div>\r\n        \r\n        <div class='movieListWrap'>`,\r\n    searchRender() {        \r\n        Main.app.innerHTML = Search.searchInner;\r\n        const searchData = async () => {\r\n            let titleVal = document.querySelector('.movieTitle').value;\r\n            let typeVal = document.querySelector('.type').value;\r\n            let numsVal = document.querySelector('.nums').value;\r\n            let yearsVal = document.querySelector('.years').value;\r\n\r\n            await getMovies(titleVal, typeVal, numsVal);\r\n        }\r\n        document.querySelector('button').addEventListener('click',searchData)\r\n    }\r\n}","import { Main } from './components/main'\r\nimport { Search } from './components/search';\r\nimport { Header } from './components/header';\r\n\r\n// 랜더 함수\r\nconst renderContents = () => {\r\n    const { pathname } = window.location;\r\n    switch (pathname) {\r\n        case '/':\r\n            Main.mainRender();\r\n            break;\r\n        case '/search':\r\n            Header.headerRender();\r\n            Search.searchRender();\r\n            break;\r\n        case '/movies':\r\n            Header.headerRender();\r\n            break;\r\n        case '/about':\r\n            Header.headerRender();\r\n            break;\r\n        default:\r\n            Main.app.innerHTML = \"<div>404</div>\";\r\n    }\r\n\r\n    setTimeout(() => {\r\n        menuEventListener()\r\n    },100)\r\n};\r\n\r\nconst menuEventListener = () => {\r\n    const title = document.querySelector('.title');\r\n    const menuList = document.querySelectorAll('.menu span');\r\n    title.addEventListener(\"click\", locationChange);\r\n    menuList.forEach(e => {\r\n        e.addEventListener('click', locationChange);\r\n    });\r\n}\r\n\r\nfunction locationChange(e) {\r\n        let text = e.target.innerText;\r\n        let hrefVal = '';\r\n\r\n        if(text === 'OMDb API' ) hrefVal = '/'\r\n        if(text === 'Search' ) hrefVal = '/search'\r\n        if(text === 'Movies' ) hrefVal = '/movies'\r\n        if(text === 'About' ) hrefVal = '/about'\r\n\r\n        const targetUrl = hrefVal;\r\n        const { pathname } = window.location;\r\n    \r\n        if (targetUrl === pathname) {\r\n            return;\r\n        }        \r\n\r\n        const locationChangeEvent = new CustomEvent(\"locationchange\", {\r\n            composed: true,\r\n            detail: { href: hrefVal },\r\n        });\r\n        \r\n        window.dispatchEvent(locationChangeEvent);\r\n}\r\n\r\nconst handleLocationChange = (e) => {\r\n    const { href } = e.detail;\r\n    \r\n    window.history.pushState(undefined, \"타이틀\", href);\r\n    renderContents();\r\n};\r\n\r\nwindow.addEventListener(\"locationchange\", handleLocationChange);\r\n\r\nwindow.addEventListener(\"popstate\", () => {\r\n    renderContents();\r\n});\r\n\r\n// 초기 랜더\r\nrenderContents()\r\n"]}