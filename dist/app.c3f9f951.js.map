{"version":3,"sources":["js/components/header.js","js/components/main.js","js/apikeys.js","js/getdata.js","js/components/search.js","js/app.js"],"names":["Header","headerRoot","document","querySelector","headerInner","headerRender","innerHTML","Main","app","mainRender","apiKey","movieName","movieType","movieYear","nums","url","apikey","title","type","page","year","pathname","window","location","fetch","response","json","data","alert","years","option","i","Search","searchInner","searchRender","searchData","titleVal","typeVal","yearsVal","numsVal","movieListWrap","getdata","dataInfo","movieList","map","e","Poster","Title","Year","join","renderEvent","value","Number","addEventListener","event","keyCode","renderContents","setTimeout","menuEventListener","menuList","querySelectorAll","locationChange","forEach","classList","remove","innerText","toLowerCase","add","text","target","hrefVal","targetUrl","locationChangeEvent","CustomEvent","composed","detail","href","dispatchEvent","handleLocationChange","history","pushState","undefined"],"mappings":";;AKAA;AACA;AACA;AAEA;AHJO,AGKP,ALLO,ACAP,AGAA,ADAA,IDAaU,AGKP8C,ALLOxD,MEAM,AFAA,GEAG,AFAA,KKKF,GAAG,EHLS,OGK1BwD,cAAc,GAAS;AHLI,ADE1B,AGDP,ADAA,EEKI,ALLAvD,ECCSM,EIIDc,EJJK,GAAG,CDDN,EKKM,ALLHnB,GKKQoB,KLLA,CKKM,ALLLnB,CKKMoB,QAAQ,CAA5BF,GLL2B,CAAC,IKKpB,ILL4B,CAAC;AIAd,ADAK,EEMpC,ALLAjB,ACCAI,GAAG,EAAEN,GIIGmB,GLLG,ECCE,CAAClB,EIIE,WJJW,CAAC,MAAM,CAAC,qcDcxB;AIhBoB,ADAK,EHiBpCE,ACdAI,EIII,KAAK,GAAG,AJJF,EDcE,sBCdC,IDcE,OGjBnB;ACAmC,ADAnC,IHkBQT,ACdAA,EIIIO,ILUE,CAACN,KKVC,CAACQ,CJJH,CAACR,EDcU,CAACK,KKVC,EAAE,AJJJ,CAACA,CDcS,GAAGN,KCdH,CDcS,CAACI,GCdL,GGJxC,KJkBwD;AIlBxD,ADAA,EHmBI,ECdIG,EIII,EJJA,CAACC,GAAG,CAACF,SAAS,uBAChBN,cAAM,CAACI,WAAW,0GAInB;ADUT,AIpBA,ADAA,CHoBC,CCTG,EIDI,KAAK,SAAS;ALUrB,ACRD,AGVA,CHUC,CEZD,ECEIgB,ECSQpB,EDTJ,GAAG,IAAI,KCSG,CAACK,YAAY,EAAE,qCFTlB,iBAAOM,SAAS,EAAEC,SAAS,EAAEC,SAAS,EAAEC,IAAI;AFU1D,AGTD,IAAMe,ADDqD,EEU/CG,GDTD,GAAG,QCSI,CAACE,ADTbL,KAAK,GAAS,ICSW,EAAE;EDR7B,EDFuD,EEW/C,ADTJC,MAAM,GAAG,EAAE;EACf,ECSI,EFZmD,CCGlD,ECSI,EDTAC,CAAC,GAAGX,GCSK,CDTD,EAAEW,CAAC,GAAG,IAAI,EAAGA,CAAC,EAAE,EAAC;IAC9BD,ECSI9B,EFb+C,ECI7C,UCSI,CAACK,YAAY,EAAE,GDTEe,IAAI,EAAE,cAAIA,IAAI,cAAW;EACxD,ICSQ,IFd+C;ECMvD,ECSI,KAAK,ADTFU,GDNgD,GCM1C,ECSI;ADRrB,CAAC,KCSW9B,MFdEe,GAAG,KEcC,CAACV,YAAY,EAAE;ADP1B,IAAM2B,ECQD,IDRO,EDNLhB,CCMQ,KDNF,qBAAcN,eAAM;ECOpCuB,ECQI,QFdMhB,CCMC,IDNI,eAAQN,SAAS,+qBCqBjBkB,KAAK,EAAE,gOAOX;EACXK,ICdQ3B,MFdEW,EC4BE,ECdA,AFdE,CEcDV,GAAG,CAACF,SAAS,GAAG,EFdHM,KC4BX,ID5BoB,KEcU;EAAC,EDe1CL,QD5BMY,EC4BF,CAACX,CD5BK,EC4BF,CAACF,SAAS,GAAG0B,ID5BClB,EC4BK,CAACmB,CD5BF,UC4Ba;ECZ3CwB,EDcI,IAAMtB,ICdA,AFfAf,CEeC,GFfG,EC6BM,OCdH,OFfMP,SAAS;IEgB5B6C,EDagB,MD1BRrC,QAAQ,CEaC,EAAE,AFbEC,MAAM,CAACC,QAAQ,CAA5BF,QAAQ,6BC0BG,iBAAOe,QAAQ,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,OAAO;ECZlE,CAAC,EAAC,GAAG,ADY6D,CCZ5D,GFdc,cACRlB,QAAQ;AEcxB,CAAC,ODWqE,IDzB9C,gCACP,SAAS,wBAIT,SAAS;AEW1B,IAAMqC,MDSgE,EDpB5C,SEWH,GAAG,SAApBA,iBAAiB,GAAS;EAC5B,IAAMzC,IFZgB,CEYX,CDQuD,ECRpDf,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;EAC9C,IAAMwD,MFbgB,EEaR,ADOoD,GCPjDzD,QAAQ,CAAC0D,gBAAgB,CAAC,YAAY,CAAC;EACxD3C,KAAK,CAACoC,IFdgB,ICqBRb,GDxBehB,KEiBP,AFjBY,CEiBX,IDOI,GCPG,ADOAtB,ECPE2D,CFjBM9C,GAAG,ECwBH,CAACZ,ADxBKa,MAAM,CEiBJ,CAAC,CFjBMC,ICwBD,CAAC,ADxBK,GAAGC,IAAI,GAAGE,IAAI,ECwBH,CAAC,ADxBKD,IAAI,EAAI;EEkBnFwC,QAAQ,AFlB2E,CEkB1EG,KDM6D,ECNtD,CAAC,UAAAjB,CAAC,EAAI;IAClB,IAAQxB,IFnBAI,IEmBQ,ADKkD,GCL7CH,CFnBL,GCyBO,ECNI,CAACC,CDMLkB,OCNa,CAA5BpB,QAAQ,ADMc,EAACe,QAAQ,EAAEC,OAAO,EAAEC,QAAQ,E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","file":"app.c3f9f951.js","sourceRoot":"..","sourcesContent":["export const Header = {\r\n    headerRoot : document.querySelector('header'),\r\n    headerInner : `\r\n        <div class=\"header-wrap\">\r\n            <h1 class=\"title\">OMDb API</h1>\r\n            \r\n            <ul class=\"menu-wrap\">\r\n                <li class=\"menu\">\r\n                    <span>Search</span>\r\n                </li>\r\n                <li class=\"menu\">\r\n                    <span>Movies</span>\r\n                </li>\r\n                <li class=\"menu\">\r\n                    <span>About</span>\r\n                </li>\r\n            </ul>\r\n        </div>`,\r\n    headerRender() {\r\n        Header.headerRoot.innerHTML = Header.headerInner; \r\n    }\r\n}","import { Header } from './header.js';\r\n\r\nexport const Main = {\r\n    app: document.querySelector('main'),\r\n    mainRender() {\r\n        Header.headerRoot.innerHTML = ``\r\n        Main.app.innerHTML = `\r\n        ${Header.headerInner}\r\n        <div class=\"bg-box\">\r\n            <div class=\"bg-img\"> </div>\r\n        </div>\r\n        `;\r\n    }\r\n}","export const apiKey = '7035c60c';","import { apiKey } from './apikeys.js'\r\nimport { Main } from './components/main'\r\n\r\nexport default async (movieName, movieType, movieYear, nums) => {\r\n    try {\r\n        const url = `https://www.omdbapi.com/`\r\n        const apikey = `?apikey=${apiKey}&`\r\n        const title = `s=${movieName};`\r\n        const type = `&type=${movieType}`\r\n        const page = `&page=${nums}`\r\n        const year = `&y=${movieYear}`\r\n        let response;\r\n        let data;\r\n        const { pathname } = window.location;\r\n        switch (pathname) {\r\n            case '/search':\r\n                response = await fetch(`${url + apikey + title + type + year + page }`);\r\n                data = await response.json();\r\n                return data;\r\n            case '/movies':\r\n                break;\r\n            default:\r\n                Main.app.innerHTML = \"<div>404</div>\";\r\n        }\r\n        \r\n    } catch (err){\r\n        alert('영화정보를 불러올 수 없습니다!', err);\r\n    }  \r\n};\r\n\r\n","import { Main } from \"./main.js\"\r\nimport getdata from \"../getdata.js\"\r\n\r\nlet year = 2022;\r\nconst years = () => {\r\n    let option = ''\r\n    for( let i = year; i > 1980 ; i--){\r\n        option += `<option value=${year--}>${year}</option>`\r\n    }\r\n    return option;\r\n}\r\n\r\nexport const Search = {\r\n    searchInner :`\r\n        <div class=\"search-input-wrap\">\r\n            <input class=\"movie-title\" placeholder=\"검색어를 입력하세요.\">\r\n            <select class=\"type\">\r\n                <option value=\"movie\">movie</option>\r\n                <option value=\"series\">series</option>\r\n                <option value=\"episode\">episode</option>\r\n            </select>\r\n            <select class='nums'>\r\n                <option value=\"1\">10</option>\r\n                <option value=\"2\">20</option>\r\n                <option value=\"3\">30</option>\r\n            </select>\r\n            <select class=\"years\">\r\n                <option value=\"\">All</option>\r\n                ${ years() }\r\n            </select>\r\n            <button>search</button>\r\n        </div>\r\n        \r\n        <div class='movieListWrap'>\r\n            <div class=\"err-msg\">검색해주세요!</div>\r\n        </div>`,\r\n    searchRender() {        \r\n        Main.app.innerHTML = Search.searchInner\r\n\r\n        const searchData = async (titleVal, typeVal, yearsVal, numsVal) => {      \r\n            const movieListWrap = document.querySelector('.movieListWrap');\r\n            const data = await getdata(titleVal, typeVal, yearsVal, numsVal)\r\n            const dataInfo = data.Search;\r\n            \r\n            try{\r\n                const movieList = dataInfo.map(e => {\r\n                    e.Poster === 'N/A' ? e.Poster = 'https://t1.daumcdn.net/cfile/tistory/247AD54557E5DF5D21' : e.Poster = e.Poster;\r\n                    \r\n                    return (\r\n                        `\r\n                        <div class=\"movie-list\">\r\n                            <img class=\"movie-list-poster\" src='${e.Poster}' alt'${e.Title + 'Poster'}'>\r\n                            <p class=\"movie-list-title\">${e.Title}${e.Year}</p>\r\n                        </div>\r\n                        `\r\n                    )\r\n                })\r\n                movieListWrap.innerHTML += movieList.join('');\r\n            }catch{\r\n                movieListWrap.innerHTML = `<div class=\"err-msg\">검색 결과가 없습니다.</div>`\r\n            }\r\n        }\r\n\r\n        const renderEvent = () => {\r\n            let titleVal = document.querySelector('.movie-title').value;\r\n            let typeVal = document.querySelector('.type').value;\r\n            let numsVal = Number(document.querySelector('.nums').value);\r\n            let yearsVal = document.querySelector('.years').value;\r\n            const movieListWrap = document.querySelector('.movieListWrap');\r\n            movieListWrap.innerHTML = ''\r\n\r\n            for(let i = numsVal; i > 0 ; i-- ){\r\n                searchData(titleVal, typeVal, yearsVal, numsVal)\r\n                numsVal--\r\n            }\r\n        }\r\n        \r\n        document.querySelector('button').addEventListener('click', renderEvent)\r\n        document.querySelector('.movie-title').addEventListener('keypress', function(event){\r\n            if(event.keyCode == 13) renderEvent();\r\n        })\r\n    }\r\n}","import { Main } from './components/main.js'\r\nimport { Search } from './components/search.js';\r\nimport { Header } from './components/header.js';\r\n\r\n// 랜더 함수\r\nconst renderContents = () => {\r\n    const { pathname } = window.location;\r\n    switch (pathname) {\r\n        case '/':\r\n            Main.mainRender();\r\n            break;\r\n        case '/search':\r\n            Header.headerRender();\r\n            Search.searchRender();\r\n            break;\r\n        case '/movies':\r\n            Header.headerRender();\r\n            break;\r\n        case '/about':\r\n            Header.headerRender();\r\n            break;\r\n        default:\r\n            Main.app.innerHTML = \"<div>404</div>\";\r\n    }\r\n\r\n    setTimeout(() => {\r\n        menuEventListener()\r\n    },100)\r\n};\r\n\r\nconst menuEventListener = () => {\r\n    const title = document.querySelector('.title');\r\n    const menuList = document.querySelectorAll('.menu span');\r\n    title.addEventListener(\"click\", locationChange);\r\n    menuList.forEach(e => {\r\n        const { pathname } = window.location;\r\n        e.classList.remove('click')\r\n\r\n        if(`/${e.innerText.toLowerCase()}` === pathname) e.classList.add('click'); \r\n        e.addEventListener('click', locationChange);\r\n    });\r\n}\r\n\r\nfunction locationChange(e) {\r\n        let text = e.target.innerText;\r\n        let hrefVal = '';\r\n\r\n        if(text === 'OMDb API' ) hrefVal = '/'\r\n        if(text === 'Search' ) hrefVal = '/search'\r\n        if(text === 'Movies' ) hrefVal = '/movies'\r\n        if(text === 'About' ) hrefVal = '/about'\r\n\r\n        const targetUrl = hrefVal;\r\n        const { pathname } = window.location;\r\n    \r\n        if (targetUrl === pathname) {\r\n            return;\r\n        }        \r\n\r\n        const locationChangeEvent = new CustomEvent(\"locationchange\", {\r\n            composed: true,\r\n            detail: { href: hrefVal },\r\n        });\r\n        \r\n        window.dispatchEvent(locationChangeEvent);\r\n}\r\n\r\nconst handleLocationChange = (e) => {\r\n    const { href } = e.detail;\r\n    \r\n    window.history.pushState(undefined, \"타이틀\", href);\r\n    renderContents();\r\n};\r\n\r\nwindow.addEventListener(\"locationchange\", handleLocationChange);\r\n\r\nwindow.addEventListener(\"popstate\", () => {\r\n    renderContents();\r\n});\r\n\r\n// 초기 랜더\r\nrenderContents()"]}